"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const THREE = require("three");
const camera_1 = require("./camera");
class InstantWorldAnchorGroup extends THREE.Group {
    constructor(_camera, instantTracker) {
        super();
        this._camera = _camera;
        this.instantTracker = instantTracker;
        // We'll be updating this Group's matrix ourselves from the Zappar library
        this.matrixAutoUpdate = false;
    }
    setAnchorPoseFromCameraOffset(x, y, z, orientation) {
        this.instantTracker.setAnchorPoseFromCameraOffset(x, y, z, orientation);
    }
    updateMatrixWorld(force) {
        this.matrix.fromArray(this.instantTracker.anchor.pose(this._camera.rawPose, this._camera.currentMirrorMode === camera_1.CameraMirrorMode.Poses));
        super.updateMatrixWorld(force);
    }
}
exports.InstantWorldAnchorGroup = InstantWorldAnchorGroup;
